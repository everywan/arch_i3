# NAS

NAS, Network Attached Storage, 网络附属存储

搭建NAS有两种方法
1. 现有的成品方案, 如 群晖.
2. 购买服务器, 安装Linux以及相关软件

nas实现的功能如下
1. 文件存储: 文件的上传与下载
  - 文件安全(可选): 上传下载过程中的安全, 访问的安全, 以及数据可靠性.
2. 外网访问
3. 下载功能: 支持从网络下载到nas
4. 影视功能: 支持通过各种协议直接在 Mobile/PC/TV 上播放, 4k解码(终端/服务器端均可)
5. 服务器(可选): 可以运行一些自己的服务, docker 等

如上功能群晖本身已经支持.

## 实现方案
群晖
1. 文件中心, 支持多平台同步
2. QuickConnect, 支持外网访问局域网.
3. 4k解码等可选功能
4. 功耗低, 但性能弱.

DIY
1. 服务器推荐
  - dell t440/640等: 至强服务器, 至强无敌.
  - dell t30 等: 机型较大, 性能较强
  - hp gen10/8: 机型小, 性能一般(远强于群辉等)
  - 星际蜗牛: 便宜首选, 需要很多DIY和相关知识, 至少得会查
  - 魔教玩法
    - 玩具: 树梅派, 只是玩玩
    - 电脑+硬盘柜: 使用 typec/usb3.0 传输数据, 外置硬盘柜. 比如当你使用 intel nuc 时, 即家用又当NAS
2. 软件安装: Linux
  - 外网访问: ddns + frp, 详细参考 []()
  - 文件存储: oss+filebrowser, 详细参考 [cloud_drive](./cloud_deive.md)
  - 下载功能: aria2 + qbittorrent. 部分资源使用迅雷下载
  - 影视: 待定, 考虑 kodi+emby
3. 软件安装: Win Server

### DIY系统实现
关于NAS, 我更倾向与自己搭建服务器, 而不是使用群辉, 原因如下
1. Linux 可以实现其中大多数功能, 所有必要功能, 虽然可能在某些地方不完美.
2. 群辉系统不是纯正的linux. 虽然这点看起来没那么重要, 但是却影响方方面面.
  - 安装Linux软件比较麻烦, 不能使用各种系统的包管理工具, systemctl等管理比较麻烦
  - 使用shell管理系统
3. 当然, 对于正常人还是推荐群晖, 可能因为我太偏执了吧.
  - 对于我, 如同我没有选择win, 没有选择osx, 没有选择ios 那样, 也不会没有选择群晖. 

服务器选择
1. 不差钱: 云服务器+OSS+大带宽
2. NAS 以及一些简单的服务: dell_t30/hp_gen10/星际蜗牛
  - 阿里云 4核8G 一年就要四千多, 不如 t30 的性能但是一年就能买个t30加电费了, 这是价格方面. 其次, 作为个人日常玩具服务器, 不需要过多的稳定性和可扩展性.
3. 强劲的服务器: 至少四位数, 且不适合家用(噪音+功耗+占地)

需要考虑的点
1. 可玩性/DIY
2. 价格/功耗/性能/噪音/体积

刚入手一款 星际蜗牛 C款, 谈下感受
1. 必须更换电源: 自带的是 银狐230W 电源, 风扇噪音很大, 且做工一般, 更换为益衡电源. 买的二手的, 别人改好线, 改好猫头鹰风扇的, 有效降低噪音.
  - 对于NAS, 建议好电源. 电源太差容易导致硬盘易坏, 原因参考: [PC电源](/doc/hardware/power.md)
